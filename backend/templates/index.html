<!doctype html><html lang="zh-CN">
  <head>
    <meta charset="utf-8"/><title>微博舆情监测系统</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="/static/css/style.css"/>
  </head>
  <body>
    <header><h1>微博舆情监测系统</h1><div id="now"></div></header>
    <div class="container">
      <section class="panel">
        <h2>当前热榜</h2><div id="hotlist"></div>
        <h2 style="margin-top:12px;">风险预警</h2><div id="risk"></div>
        <h2 style="margin-top:12px;">最近30天热度/风险</h2><ul id="daily30"></ul>
      </section>
      <section class="panel">
        <div class="controls">
            <label>分布：</label>
            <select id="central-attribute"></select>
            
            <label>颜色：</label>
            <select id="central-colorby"></select>

            <div class="time-filter" style="margin-left: auto;">
                <label>时间段：</label>
                <button data-range="week" class="active">最近一周</button>
                <button data-range="month">最近一月</button>
                <button data-range="half-year">最近半年</button>
            </div>
            <button id="health-hot-btn"  class="health-button"  style="margin-left:8px;">健康医疗相关热搜</button>
        </div>
        <div id="central-vis">
          <div id="event-sidebar">
          <div class="sidebar-header">
              <h3 id="sidebar-title">事件列表</h3>
              <button id="close-sidebar-btn">×</button>
          </div>
          <ul id="event-list"></ul>
          </div>

          <div id="event-details" style="visibility: hidden;">
            <h4>事件总结</h4>
            <p id="details-summary">点击右侧列表中的事件以查看详情。</p>
            <h4>热门贴文</h4>
            <p id="details-posts">(热门贴文内容)</p>
          </div>
           
      <div id="health-panel" style="display:none; position:absolute; left:0; right:0; top:0; bottom:0; padding:16px; box-sizing:border-box;">
       
        <div id="health-timeline" style="height:48%; border-radius:8px; background:white; padding:12px; box-sizing:border-box; overflow:auto;">
            <!-- legend（左上） 和 count（右上） -->
            <div id="health-legend" style="position:absolute; left:26px; top:20px; z-index:3000;"></div>
            <div id="health-count" style="position:absolute; right:26px; top:20px; z-index:3000; font-weight:700;"></div>
            <!-- timeline svg will be injected here -->
            <svg id="health-timeline-svg" style="width:100%; height:100%;"></svg>
        </div>

        <!-- 下半：详情三栏（占 50% 高度） -->
        <div id="health-details" style="height:48%; margin-top:12px; display:flex; gap:12px;">
            <div class="detail-col" id="detail-1" style="flex:1; border-radius:8px; background:#fff; padding:12px; box-sizing:border-box;">
                <!-- 占位：待老师代码接入 -->
                <h4>详情区 1（占位）</h4>
                <div id="detail-1-content">（待填充）</div>
            </div>
            <div class="detail-col" id="detail-2" style="flex:1; border-radius:8px; background:#fff; padding:12px; box-sizing:border-box;">
                <h4>详情区 2（占位）</h4>
                <div id="detail-2-content">（待填充）</div>
            </div>
            <div class="detail-col" id="detail-3" style="flex:1; border-radius:8px; background:#fff; padding:12px; box-sizing:border-box;">
                <h4>详情区 3（占位）</h4>
                <div id="detail-3-content">（待填充）</div>
            </div>
        </div>
        </div>
      </section>
      <section class="panel">
        <h2>事件概览 | 具体贴文</h2>
        <div class="badge" id="event-title">（点击左侧事件）</div>
        <div id="event-dims"></div>
        <div id="event-overview"></div>
        <div id="event-posts"></div>
      </section>
    </div>
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <script src="/static/js/client.js"></script>
  <script src="/static/js/central_vis.js"></script>
  </body>
</html>
